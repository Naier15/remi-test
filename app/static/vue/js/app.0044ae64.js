(function(){"use strict";var t={9277:function(t,e,a){var n=a(9242),s=a(3396);function c(t,e,a,n,c,r){const l=(0,s.up)("router-view");return(0,s.wg)(),(0,s.j4)(l)}var r={name:"App"},l=a(89);const o=(0,l.Z)(r,[["render",c]]);var i=o,u=a(2483);function d(t,e,a,n,c,r){const l=(0,s.up)("Header"),o=(0,s.up)("Main"),i=(0,s.up)("Footer");return(0,s.wg)(),(0,s.iD)(s.HY,null,[(0,s.Wm)(l,{basket_count:c.basket_count},null,8,["basket_count"]),(0,s.Wm)(o,{onUpdate_basket_count:r.update_basket_count},null,8,["onUpdate_basket_count"]),(0,s.Wm)(i)],64)}const m=t=>((0,s.dD)("data-v-b044d93e"),t=t(),(0,s.Cn)(),t),p={class:"content_block offset"},_={key:0,class:"spinner-grow my_spinner",style:{width:"3rem",height:"3rem"},role:"status"},b=m((()=>(0,s._)("span",{class:"visually-hidden"},"Загрузка...",-1))),g=[b],v={key:1},h={class:"row row-cols-1 row-cols-md-3 mb-3 text-center"},k={key:2,class:"my_spinner"};function y(t,e,a,n,c,r){const l=(0,s.up)("Card");return(0,s.wg)(),(0,s.iD)("div",p,[t.$store.state.loading?t.$store.state.products.length>0?((0,s.wg)(),(0,s.iD)("div",v,[(0,s._)("div",h,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(t.$store.state.products,((t,e)=>((0,s.wg)(),(0,s.iD)("div",{class:"col",key:t.id},[(0,s.Wm)(l,{onUpdate_basket_count:r.update_basket_count,product:t},null,8,["onUpdate_basket_count","product"])])))),128))])])):((0,s.wg)(),(0,s.iD)("h2",k,"Список пока пуст")):((0,s.wg)(),(0,s.iD)("div",_,g))])}var f=a(7139),w=a.p+"static/vue/img/none.46d4e60d.jpg";const z=t=>((0,s.dD)("data-v-65cad144"),t=t(),(0,s.Cn)(),t),M={class:"card mb-5 rounded-5 shadow"},D={class:"py-3 card-header"},O={class:"my-0 fw-normal"},x={class:"card-body my-card"},$=["src"],C={key:1,class:"product-image",src:w,alt:"picture"},I={class:"inner-card"},j={class:"card-title pricing-card-title"},q=z((()=>(0,s._)("small",{class:"text-muted fw-light"},"₽",-1))),S={class:"list-unstyled mt-3 mb-1"},B={key:0},H=z((()=>(0,s._)("br",null,null,-1)));function N(t,e,a,n,c,r){return(0,s.wg)(),(0,s.iD)("div",M,[(0,s._)("div",D,[(0,s._)("h4",O,(0,f.zw)(a.product.title),1)]),(0,s._)("div",x,[a.product.image?((0,s.wg)(),(0,s.iD)("img",{key:0,class:"product-image",src:a.product.image,alt:"picture"},null,8,$)):((0,s.wg)(),(0,s.iD)("img",C)),(0,s._)("div",I,[(0,s._)("h1",j,[(0,s.Uk)((0,f.zw)(a.product.price),1),q]),(0,s._)("ul",S,[a.product.description?((0,s.wg)(),(0,s.iD)("li",B,(0,f.zw)(a.product.description),1)):(0,s.kq)("",!0),H,(0,s._)("li",null,"Осталось "+(0,f.zw)(a.product.quantity)+" шт.",1)])])]),(0,s._)("button",{onClick:e[0]||(e[0]=t=>r.buyItem(a.product)),type:"submit",class:"btn btn-lg btn-outline-primary my-btn add_item"},"Купить")])}var T={name:"Card",props:{product:{type:Object,require:!0}},methods:{buyItem(t){this.$store.commit("addItem",t),this.$emit("update_basket_count")}}};const R=(0,l.Z)(T,[["render",N],["__scopeId","data-v-65cad144"]]);var Z=R,L={name:"Main",components:{Card:Z},data(){return{createVisible:!1,editVisible:!1,selectedOrder:null}},methods:{showDetails(){this.createVisible=!0},showEdit(t){this.selectedOrder=t,this.editVisible=!0},update_basket_count(){this.$emit("update_basket_count")}},created(){this.$store.dispatch("getProducts")}};const W=(0,l.Z)(L,[["render",y],["__scopeId","data-v-b044d93e"]]);var F=W;const J=t=>((0,s.dD)("data-v-57b05e69"),t=t(),(0,s.Cn)(),t),P={id:"navbar-example2",class:"navbar fixed-top px-3 mb-3 header"},U={class:"container"},A=["src"],E={key:0,class:"currency"},V={class:"updated_time"},Y=J((()=>(0,s._)("div",{class:"six"},[(0,s._)("h1",null,[(0,s._)("span",null,"Магазин у дивана")])],-1))),K={class:"header-right"},G={class:"nav nav-pills nav-fill gap-2 p-1 small bg-white border rounded-5 shadow-sm",id:"pillNav2",role:"tablist"},Q={class:"nav-item",role:"presentation"},X={class:"nav-item",role:"presentation"},tt={key:0,class:"circle"},et={class:"basket-count"};function at(t,e,a,n,c,r){return(0,s.wg)(),(0,s.iD)("header",null,[(0,s._)("nav",P,[(0,s._)("div",U,[(0,s._)("img",{class:"favicon",src:t.$store.state.favicon,alt:"icon"},null,8,A),t.$store.state.currency_rates?((0,s.wg)(),(0,s.iD)("div",E,[(0,s._)("span",null,"Доллар: "+(0,f.zw)(t.$store.state.currency_rates.dollar),1),(0,s._)("span",null,"Евро: "+(0,f.zw)(t.$store.state.currency_rates.euro),1),(0,s._)("span",V,[(0,s._)("i",null,"Обновлено: "+(0,f.zw)(t.$store.state.currency_rates.minutes)+" минут "+(0,f.zw)(t.$store.state.currency_rates.seconds)+" секунд назад",1)])])):(0,s.kq)("",!0),Y,(0,s._)("div",K,[(0,s._)("ul",G,[(0,s._)("li",Q,[(0,s._)("a",{onClick:e[0]||(e[0]=(...t)=>r.goToMenu&&r.goToMenu(...t)),class:(0,f.C_)(["nav-link rounded-5",[c.menu_active]]),id:"home-tab2","aria-selected":"true",tabindex:"1"},"Меню",2)]),(0,s._)("li",X,[(0,s._)("a",{onClick:e[1]||(e[1]=(...t)=>r.goToBasket&&r.goToBasket(...t)),class:(0,f.C_)(["nav-link rounded-5",[c.basket_active]]),id:"profile-tab2","aria-selected":"false",tabindex:"2"},"Корзина",2)]),a.basket_count?((0,s.wg)(),(0,s.iD)("li",tt,[(0,s._)("span",et,(0,f.zw)(a.basket_count),1)])):(0,s.kq)("",!0)])])])])])}var nt=a(65),st=a(6265),ct=a.n(st),rt=(0,nt.MT)({state:{products:[],basket:{},currency_rates:{},loading:!1,host:"http://172.20.10.11:8000",static:"http://172.20.10.11:8000/static/main/img/",favicon:"http://172.20.10.11:8000/static/main/img/favicon.jpg"},getters:{basket_count:()=>{let t=localStorage.getItem("my_basket");if(null===t)return;t=JSON.parse(t);const e=t=>Object.values(t).reduce(((t,e)=>t+e["quantity"]),0);return null===t?0:e(t)}},mutations:{setLoading(t,e){t.loading=e},addItem(t,e){let a=localStorage.getItem("my_basket");a=null===a?{}:JSON.parse(a);const n=`${e.id}`,s=Object.keys(a).length,c=Object.values(a).findIndex((t=>t.id==n));if(-1!==c)a[c].quantity+=1;else{let t=Object.assign({},e,{quantity:1});a[s]=t}localStorage.setItem("my_basket",JSON.stringify(a,null,4))}},actions:{async getProducts({state:t,commit:e}){try{e("setLoading",!1);const a=await ct().get(`${t.host}/api/v1/products`);t.products=a.data,e("setLoading",!0)}catch(a){console.log("[ERROR] function getProducts went wrong ",a)}},async get_currency_rates({state:t,commit:e}){try{const e=await ct().get(`${t.host}/api/v1/currency`);t.currency_rates=e.data.data}catch(a){console.log("[ERROR] function get_currency_rates went wrong ",a)}}},modules:{}}),lt={name:"Header",props:{basket_count:{type:Number,required:!1}},data(){return{dollar:null,euro:null,minutes:null,seconds:null,menu_active:"",basket_active:""}},methods:{goToBasket(){this.$router.push({name:"Basket"})},goToMenu(){this.$router.push({name:"Menu"})}},mounted(){"/vue"===this.$router.currentRoute.value.path?this.menu_active="active":"/vue/basket"===this.$router.currentRoute.value.path&&(this.basket_active="active"),rt.dispatch("get_currency_rates")}};const ot=(0,l.Z)(lt,[["render",at],["__scopeId","data-v-57b05e69"]]);var it=ot;const ut=t=>((0,s.dD)("data-v-fcbd9c8c"),t=t(),(0,s.Cn)(),t),dt={class:"py-3 my-4 container"},mt=ut((()=>(0,s._)("br",null,null,-1))),pt=ut((()=>(0,s._)("p",{class:"text-center text-muted"},"© 2022 Evil company, Inc",-1))),_t=[mt,pt];function bt(t,e,a,n,c,r){return(0,s.wg)(),(0,s.iD)("footer",dt,_t)}var gt={name:"Footer"};const vt=(0,l.Z)(gt,[["render",bt],["__scopeId","data-v-fcbd9c8c"]]);var ht=vt,kt={name:"Menu",components:{Header:it,Main:F,Footer:ht},data(){return{basket_count:null}},methods:{get_basket_count(){this.basket_count=this.$store.getters.basket_count},update_basket_count(){this.get_basket_count()}},mounted(){this.get_basket_count()}};const yt=(0,l.Z)(kt,[["render",d]]);var ft=yt;const wt=t=>((0,s.dD)("data-v-39086dca"),t=t(),(0,s.Cn)(),t),zt={class:"row row-cols-1 row-cols-md-3 mb-3 text-center offset"},Mt={key:1,class:"my_col"},Dt=wt((()=>(0,s._)("b",null,"Ваша корзина пустует",-1))),Ot=[Dt];function xt(t,e,a,n,c,r){const l=(0,s.up)("Header"),o=(0,s.up)("BasketCard"),i=(0,s.up)("Footer");return(0,s.wg)(),(0,s.iD)(s.HY,null,[(0,s.Wm)(l,{basket_count:c.basket_count},null,8,["basket_count"]),(0,s._)("div",zt,[c.basket?((0,s.wg)(!0),(0,s.iD)(s.HY,{key:0},(0,s.Ko)(c.basket,((t,e)=>((0,s.wg)(),(0,s.iD)("div",{class:"col my_col",key:t.id},[(0,s.Wm)(o,{onIncrease:r.increase,onDecrease:r.decrease,product:t,index:e},null,8,["onIncrease","onDecrease","product","index"])])))),128)):((0,s.wg)(),(0,s.iD)("div",Mt,Ot))]),(0,s.Wm)(i)],64)}const $t=t=>((0,s.dD)("data-v-7329d770"),t=t(),(0,s.Cn)(),t),Ct={class:"card mb-5 rounded-5 shadow"},It={class:"py-3 card-header"},jt={class:"my-0 fw-normal"},qt={class:"card-body my-card"},St=["src"],Bt={key:1,class:"product-image",src:w,alt:"picture"},Ht={class:"inner-card"},Nt={class:"card-title pricing-card-title"},Tt=$t((()=>(0,s._)("small",{class:"text-muted fw-light"},"₽",-1))),Rt={class:"list-unstyled mt-3 mb-1"},Zt={key:0},Lt=$t((()=>(0,s._)("br",null,null,-1))),Wt={class:"counter"},Ft=$t((()=>(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"3rem",height:"3rem",fill:"currentColor",class:"btn btn-success bi bi-plus-circle-dotted radius",viewBox:"0 0 16 16"},[(0,s._)("path",{d:"M8 0c-.176 0-.35.006-.523.017l.064.998a7.117 7.117 0 0 1 .918 0l.064-.998A8.113 8.113 0 0 0 8 0zM6.44.152c-.346.069-.684.16-1.012.27l.321.948c.287-.098.582-.177.884-.237L6.44.153zm4.132.271a7.946 7.946 0 0 0-1.011-.27l-.194.98c.302.06.597.14.884.237l.321-.947zm1.873.925a8 8 0 0 0-.906-.524l-.443.896c.275.136.54.29.793.459l.556-.831zM4.46.824c-.314.155-.616.33-.905.524l.556.83a7.07 7.07 0 0 1 .793-.458L4.46.824zM2.725 1.985c-.262.23-.51.478-.74.74l.752.66c.202-.23.418-.446.648-.648l-.66-.752zm11.29.74a8.058 8.058 0 0 0-.74-.74l-.66.752c.23.202.447.418.648.648l.752-.66zm1.161 1.735a7.98 7.98 0 0 0-.524-.905l-.83.556c.169.253.322.518.458.793l.896-.443zM1.348 3.555c-.194.289-.37.591-.524.906l.896.443c.136-.275.29-.54.459-.793l-.831-.556zM.423 5.428a7.945 7.945 0 0 0-.27 1.011l.98.194c.06-.302.14-.597.237-.884l-.947-.321zM15.848 6.44a7.943 7.943 0 0 0-.27-1.012l-.948.321c.098.287.177.582.237.884l.98-.194zM.017 7.477a8.113 8.113 0 0 0 0 1.046l.998-.064a7.117 7.117 0 0 1 0-.918l-.998-.064zM16 8a8.1 8.1 0 0 0-.017-.523l-.998.064a7.11 7.11 0 0 1 0 .918l.998.064A8.1 8.1 0 0 0 16 8zM.152 9.56c.069.346.16.684.27 1.012l.948-.321a6.944 6.944 0 0 1-.237-.884l-.98.194zm15.425 1.012c.112-.328.202-.666.27-1.011l-.98-.194c-.06.302-.14.597-.237.884l.947.321zM.824 11.54a8 8 0 0 0 .524.905l.83-.556a6.999 6.999 0 0 1-.458-.793l-.896.443zm13.828.905c.194-.289.37-.591.524-.906l-.896-.443c-.136.275-.29.54-.459.793l.831.556zm-12.667.83c.23.262.478.51.74.74l.66-.752a7.047 7.047 0 0 1-.648-.648l-.752.66zm11.29.74c.262-.23.51-.478.74-.74l-.752-.66c-.201.23-.418.447-.648.648l.66.752zm-1.735 1.161c.314-.155.616-.33.905-.524l-.556-.83a7.07 7.07 0 0 1-.793.458l.443.896zm-7.985-.524c.289.194.591.37.906.524l.443-.896a6.998 6.998 0 0 1-.793-.459l-.556.831zm1.873.925c.328.112.666.202 1.011.27l.194-.98a6.953 6.953 0 0 1-.884-.237l-.321.947zm4.132.271a7.944 7.944 0 0 0 1.012-.27l-.321-.948a6.954 6.954 0 0 1-.884.237l.194.98zm-2.083.135a8.1 8.1 0 0 0 1.046 0l-.064-.998a7.11 7.11 0 0 1-.918 0l-.064.998zM8.5 4.5a.5.5 0 0 0-1 0v3h-3a.5.5 0 0 0 0 1h3v3a.5.5 0 0 0 1 0v-3h3a.5.5 0 0 0 0-1h-3v-3z"})],-1))),Jt=[Ft],Pt=$t((()=>(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"3rem",height:"3rem",fill:"currentColor",class:"btn btn-danger bi bi-dash-circle-dotted radius",viewBox:"0 0 16 16"},[(0,s._)("path",{d:"M8 0c-.176 0-.35.006-.523.017l.064.998a7.117 7.117 0 0 1 .918 0l.064-.998A8.113 8.113 0 0 0 8 0zM6.44.152c-.346.069-.684.16-1.012.27l.321.948c.287-.098.582-.177.884-.237L6.44.153zm4.132.271a7.946 7.946 0 0 0-1.011-.27l-.194.98c.302.06.597.14.884.237l.321-.947zm1.873.925a8 8 0 0 0-.906-.524l-.443.896c.275.136.54.29.793.459l.556-.831zM4.46.824c-.314.155-.616.33-.905.524l.556.83a7.07 7.07 0 0 1 .793-.458L4.46.824zM2.725 1.985c-.262.23-.51.478-.74.74l.752.66c.202-.23.418-.446.648-.648l-.66-.752zm11.29.74a8.058 8.058 0 0 0-.74-.74l-.66.752c.23.202.447.418.648.648l.752-.66zm1.161 1.735a7.98 7.98 0 0 0-.524-.905l-.83.556c.169.253.322.518.458.793l.896-.443zM1.348 3.555c-.194.289-.37.591-.524.906l.896.443c.136-.275.29-.54.459-.793l-.831-.556zM.423 5.428a7.945 7.945 0 0 0-.27 1.011l.98.194c.06-.302.14-.597.237-.884l-.947-.321zM15.848 6.44a7.943 7.943 0 0 0-.27-1.012l-.948.321c.098.287.177.582.237.884l.98-.194zM.017 7.477a8.113 8.113 0 0 0 0 1.046l.998-.064a7.117 7.117 0 0 1 0-.918l-.998-.064zM16 8a8.1 8.1 0 0 0-.017-.523l-.998.064a7.11 7.11 0 0 1 0 .918l.998.064A8.1 8.1 0 0 0 16 8zM.152 9.56c.069.346.16.684.27 1.012l.948-.321a6.944 6.944 0 0 1-.237-.884l-.98.194zm15.425 1.012c.112-.328.202-.666.27-1.011l-.98-.194c-.06.302-.14.597-.237.884l.947.321zM.824 11.54a8 8 0 0 0 .524.905l.83-.556a6.999 6.999 0 0 1-.458-.793l-.896.443zm13.828.905c.194-.289.37-.591.524-.906l-.896-.443c-.136.275-.29.54-.459.793l.831.556zm-12.667.83c.23.262.478.51.74.74l.66-.752a7.047 7.047 0 0 1-.648-.648l-.752.66zm11.29.74c.262-.23.51-.478.74-.74l-.752-.66c-.201.23-.418.447-.648.648l.66.752zm-1.735 1.161c.314-.155.616-.33.905-.524l-.556-.83a7.07 7.07 0 0 1-.793.458l.443.896zm-7.985-.524c.289.194.591.37.906.524l.443-.896a6.998 6.998 0 0 1-.793-.459l-.556.831zm1.873.925c.328.112.666.202 1.011.27l.194-.98a6.953 6.953 0 0 1-.884-.237l-.321.947zm4.132.271a7.944 7.944 0 0 0 1.012-.27l-.321-.948a6.954 6.954 0 0 1-.884.237l.194.98zm-2.083.135a8.1 8.1 0 0 0 1.046 0l-.064-.998a7.11 7.11 0 0 1-.918 0l-.064.998zM4.5 7.5a.5.5 0 0 0 0 1h7a.5.5 0 0 0 0-1h-7z"})],-1))),Ut=[Pt];function At(t,e,a,n,c,r){return(0,s.wg)(),(0,s.iD)("div",Ct,[(0,s._)("div",It,[(0,s._)("h4",jt,(0,f.zw)(a.product.title),1)]),(0,s._)("div",qt,[a.product.image?((0,s.wg)(),(0,s.iD)("img",{key:0,class:"product-image",src:a.product.image,alt:"picture"},null,8,St)):((0,s.wg)(),(0,s.iD)("img",Bt)),(0,s._)("div",Ht,[(0,s._)("h1",Nt,[(0,s.Uk)((0,f.zw)(a.product.price),1),Tt]),(0,s._)("ul",Rt,[a.product.description?((0,s.wg)(),(0,s.iD)("li",Zt,(0,f.zw)(a.product.description),1)):(0,s.kq)("",!0),Lt,(0,s._)("li",null,"Осталось "+(0,f.zw)(a.product.quantity)+" шт.",1)])])]),(0,s._)("div",Wt,[(0,s._)("button",{onClick:e[0]||(e[0]=e=>t.$emit("increase",a.index)),class:"reset_btn",type:"submit"},Jt),(0,s._)("button",{onClick:e[1]||(e[1]=e=>t.$emit("decrease",a.index)),class:"reset_btn",type:"submit"},Ut)])])}var Et={name:"BasketCard",props:{product:{type:Object,require:!0},index:{type:Number,require:!0}},methods:{}};const Vt=(0,l.Z)(Et,[["render",At],["__scopeId","data-v-7329d770"]]);var Yt=Vt,Kt={name:"Basket",components:{Header:it,Footer:ht,BasketCard:Yt},data(){return{basket_count:null,basket:null}},methods:{get_basket_count(){this.basket_count=this.$store.getters.basket_count},get_basket(t=!1){let e=localStorage.getItem("my_basket");if(this.basket=null===e?null:Object.values(JSON.parse(e)),t)return this.basket},increase(t){let e=this.get_basket(!0);e[t]["quantity"]+=1,localStorage.setItem("my_basket",JSON.stringify(e,null,4)),this.get_basket_count()},decrease(t){let e=this.get_basket(!0);e[t]["quantity"]>0&&(e[t]["quantity"]-=1),localStorage.setItem("my_basket",JSON.stringify(e,null,4)),this.get_basket_count()}},mounted(){this.get_basket_count(),this.get_basket()}};const Gt=(0,l.Z)(Kt,[["render",xt],["__scopeId","data-v-39086dca"]]);var Qt=Gt;const Xt=[{path:"/vue",name:"Menu",component:ft},{path:"/vue/basket",name:"Basket",component:Qt}],te=(0,u.p7)({history:(0,u.PO)("/"),routes:Xt});var ee=te;const ae=(0,n.ri)(i);ae.use(rt),ae.use(ee),ae.mount("#app")}},e={};function a(n){var s=e[n];if(void 0!==s)return s.exports;var c=e[n]={exports:{}};return t[n](c,c.exports,a),c.exports}a.m=t,function(){var t=[];a.O=function(e,n,s,c){if(!n){var r=1/0;for(u=0;u<t.length;u++){n=t[u][0],s=t[u][1],c=t[u][2];for(var l=!0,o=0;o<n.length;o++)(!1&c||r>=c)&&Object.keys(a.O).every((function(t){return a.O[t](n[o])}))?n.splice(o--,1):(l=!1,c<r&&(r=c));if(l){t.splice(u--,1);var i=s();void 0!==i&&(e=i)}}return e}c=c||0;for(var u=t.length;u>0&&t[u-1][2]>c;u--)t[u]=t[u-1];t[u]=[n,s,c]}}(),function(){a.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return a.d(e,{a:e}),e}}(),function(){a.d=function(t,e){for(var n in e)a.o(e,n)&&!a.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})}}(),function(){a.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){a.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}}(),function(){a.p="/"}(),function(){var t={143:0};a.O.j=function(e){return 0===t[e]};var e=function(e,n){var s,c,r=n[0],l=n[1],o=n[2],i=0;if(r.some((function(e){return 0!==t[e]}))){for(s in l)a.o(l,s)&&(a.m[s]=l[s]);if(o)var u=o(a)}for(e&&e(n);i<r.length;i++)c=r[i],a.o(t,c)&&t[c]&&t[c][0](),t[c]=0;return a.O(u)},n=self["webpackChunkfrontend"]=self["webpackChunkfrontend"]||[];n.forEach(e.bind(null,0)),n.push=e.bind(null,n.push.bind(n))}();var n=a.O(void 0,[998],(function(){return a(9277)}));n=a.O(n)})();
//# sourceMappingURL=app.0044ae64.js.map